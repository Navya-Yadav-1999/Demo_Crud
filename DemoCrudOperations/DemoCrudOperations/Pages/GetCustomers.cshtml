@page
@model DemoCrudOperations.Pages.GetCustomersModel

<h2>Index</h2>  
  
<p class="text-end">  
    <a asp-page="Customer">Create New Customer</a>  
</p>  

<form asp-page="./GetCustomers" method="get">
    <div class="form-actions no-color text-end">
        <p>
            Find by name:
            <input type="text" name="SearchString" value="@Model.CurrentFilter" />
            <input type="submit" value="Search" class="btn btn-primary" /> 
            @*<a asp-page="./GetCUstomers">Back to full List</a>*@
        </p>
    </div>
</form>

<table class="table">  
    <thead>  
        <tr>  
            <th>  
                @Html.DisplayName("Name")  
            </th>  
            <th>  
                @Html.DisplayName("Address")  
            </th>  
            <th>  
                @Html.DisplayName("Country")  
            </th>  
            <th>  
                @Html.DisplayName("City")  
            </th>  
            <th>  
                @Html.DisplayName("Phoneno")  
            </th>  
            <th>Edit | Delete | GetOrder</th>  
        </tr>  
    </thead>  
    <tbody>  
        @foreach (var item in Model.CustomerList)  
        {  
            <tr>  
                <td>  
                    @Html.DisplayFor(modelItem => item.Name)  
                </td>  
                <td>  
                    @Html.DisplayFor(modelItem => item.Address)  
                </td>  
                <td>  
                    @Html.DisplayFor(modelItem => item.Country)  
                </td>  
                <td>  
                    @Html.DisplayFor(modelItem => item.City)  
                </td>  
                <td>  
                    @Html.DisplayFor(modelItem => item.Phoneno)  
                </td>  
                <td>  
                    <a asp-page="./Edit" asp-route-id="@item.CustomerID">Edit</a> |  
                    <a asp-page="./GetCustomers" onclick="return confirm('Are you sure you want to delete this item?');" asp-page-handler="Delete" asp-route-id="@item.CustomerID">Delete</a> |
                    <a asp-page="./GetOrders" asp-route-id="@item.CustomerID">GetOrders </a> |
                    <a asp-page="./Order" asp-route-id="@item.CustomerID">AddOrder</a>
                </td>  
            </tr>  
        }  
    </tbody>  
</table>

<a asp-page="./GetCUstomers">Back to full List</a>